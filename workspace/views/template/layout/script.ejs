<!-- JavaScript files placed at the end of the document so the pages load faster -->
<!-- ================================================== -->
<!-- Jquery and Bootstap core js files -->
<script src="/plugins/jquery.min.js"></script>
<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- jQuery Revolution Slider  -->
<script src="/plugins/rs-plugin-5/js/jquery.themepunch.tools.min.js"></script>
<script src="/plugins/rs-plugin-5/js/jquery.themepunch.revolution.min.js"></script>
<!-- Isotope javascript -->
<script src="/plugins/isotope/imagesloaded.pkgd.min.js"></script>
<script src="/plugins/isotope/isotope.pkgd.min.js"></script>
<!-- Magnific Popup javascript -->
<script src="/plugins/magnific-popup/jquery.magnific-popup.min.js"></script>
<!-- Appear javascript -->
<script src="/plugins/waypoints/jquery.waypoints.min.js"></script>
<script src="/plugins/waypoints/sticky.min.js"></script>
<!-- Count To javascript -->
<script src="/plugins/countTo/jquery.countTo.js"></script>
<!-- Slick carousel javascript -->
<script src="/plugins/slick/slick.min.js"></script>
<!-- Pace javascript -->
<script src="/plugins/pace/pace.min.js"></script>
<!-- Initialization of Plugins -->
<script src="/js/template.js"></script>
<!-- Custom Scripts -->
<script src="/js/custom.js"></script>

<!-- sonmat -->
<script src="/js/sonmat/utils/AjaxUtils.js"></script>

<!-- summernote -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.js"></script>

<script>

    function activeMenu() {
        var path = window.location.pathname;
        if (path === '' || path === '/') {
            $('#message-list').addClass('active');
        } else if (path === '/message/form') {
            $('#message-form').addClass('active');
        } else if (path === '/handwrite') {
            $('#font-make').addClass('active');
        } else if (path === '/font') {
            $('#font-gallery').addClass('active');
        }
    }

    activeMenu();

    function checkNewFontFromServer() {

        var NEW_FONT_CHECK_API_URL = '/api/font/new';

        AjaxUtils.get(NEW_FONT_CHECK_API_URL , null , function (result) {

            if (result.fontList.length > 0)
                showNewBadges();
            else
                hideNewBadges();
        });
    }


    function runCheckNewFont() {
        checkNewFontFromServer();
        setInterval(function() {
            checkNewFontFromServer();
        }, 5000);
    }

    function showNewBadges() {
        if ($('#new-badges').is(':visible') == false)
            $('#new-badges').show();
    }

    function hideNewBadges() {
        if ($('#new-badges').is(':visible'))
            $('#new-badges').hide();
    }
    
    runCheckNewFont();
</script>