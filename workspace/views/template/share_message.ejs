<!-- facebook -->
<meta property="og:title" content="<%= msg.From.name %> 님이 보낸 메세지 입니다.">
<meta property="og:description" content="http://son-mat.com/message/to/22">
<meta property="og:image" content="http://son-mat.com/images/share_logo.png">


<style>
    .message-detail-background {

        background-size: cover;
        background-image: linear-gradient(rgba(255,255,255,0.6), rgba(255,255,255,0.7)), url("/images/paper-texture-2.jpg");

        /*background: url("/images/paper-texture-2.jpg") 80% 0px;

        opacity: 0.5;
        z-index: -1;*/
    }

    .note-editable {
        background-color: white !important;


    }

    .note-editor.note-frame {
        border: 0 !important;
    }

    .note-editor.note-frame .note-editing-area .note-editable {
        padding: 30px;
    }

</style>

<section class="section default-bg clearfix">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="call-to-action text-center">
                    <div class="row">
                        <div class="col-md-8">
                            <h3 class="title"><img src="/images/logo-sonmat-white.png" style="display: inline-block">&nbsp;에서 작성된 손편지 입니다.</h3>
                            <p>지금, 손맛나는 편지에 가입해서 자신만의 손글씨로 답장을 보내보세요</p>
                        </div>
                        <div class="col-md-4">
                            <br>
                            <p><a href="/" class="btn btn-lg btn-gray-transparent btn-animated">손맛으로 이동<i class="fa fa-arrow-right pl-20"></i></a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="main-container">
    <div class="container">
        <div class="row justify-content-center">

            <!-- main start -->
            <!-- ================ -->
            <div class="main col-lg-10">

                <div class="pv-30 ph-40 light-gray-bg hc-item-box bordered animated message-detail-background">
                    <!--style="background-color: #F5F5DC"-->

                    <div>
                        <h2 class="page-title"><%= msg.sonmat.message.title %></h2>
                        <div class="post-info mb-4 text-right">
                            <h5 class="post-date">
                                <i class="fa fa-calendar-o pr-1"></i>
                                <span class="day"><%= msg.send_date %></span>
                            </h5>
                        </div>
                    </div>


                    <!-- blogpost start -->
                    <!-- ================ -->
                    <article class="blogpost full mt-5">

                        <div class="blogpost-content white-bg pv-30 ph-40 hc-item-box bordered hc-shadow animated fadeInDownSmall
                                        pb-0 ml-lg-5 mr-lg-5 justify-content-center" style="padding-bottom: 0">

                            <div id="summernote"></div>

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="call-to-action text-right">
                                            <div class="row">
                                                <div class="col-md-12 mt-20">
                                                    <div class="separator-3"></div>
                                                    <h2 class="title logo-font text-default mt-2">From.&nbsp;&nbsp;<span class="pen-font"><%= msg.From.name %></span></h2>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </article>
                    <!-- blogpost end -->

                </div>

            </div>
            <!-- main end -->


        </div>
    </div>
</section>

<script>

    var font_list = <%- JSON.stringify(font_list) %>;

    // font-face에 등록
    register_font_face(font_list);

    var message_contents_html = <%- "`" + msg.sonmat.message.contents_html + "`" %>;

    // summernote 생성
    var editor = $('#summernote').summernote({
        lang: 'ko-KR',
        tabsize: 2,
        toolbar : false,
        disableResizeEditor: true

    });
    editor.summernote('disable');
    $('.note-statusbar').hide();

    // contents_html display
    $('#summernote').summernote('code', message_contents_html);


    function register_font_face(font) {
        font.forEach(function(font_file) {
            var font_face = new FontFace(font_file.file_name, 'url(' + font_file.file_path + ')');

            // 폰트 load
            font_face.load().then(function(loaded_face) {
                // load 된 폰트 추가
                document.fonts.add(loaded_face);
            }).catch(function(error) { });
        });
    }

</script>